{"version":3,"file":"functions.min.js","names":["$","jQuery","WPTHEME","DOMAIN","location","protocol","host","initAboutCarousel","ajax","url","dataType","cache","done","slick","infinite","slidesToShow","slidesToScroll","touchThreshold","speed","autoplay","autoplaySpeed","prevArrow","nextArrow","initDropDown","click","this","closest","hasClass","parent","next","slideUp","removeClass","slideDown","addClass","initHomeSlider","arrows","draggable","initHomeWellnessExpand","window","on","breakPoint","box","unbind","removeAttr","initSearch","hideSearch","is","val","length","animate","width","fadeOut","fadeIn","execSearch","href","setTimeout","focusout","event","preventDefault","keydown","keyCode","which","initDesktopSubNav","menu","initMobileNav","initBreakPoint","breakPointChange","trigger","setBreakpoints","distinct","breakpoints","bind","initBrowserDetection","jQBrowser","mac","win","android","ipad","iphone","ipod","chrome","mozilla","safari","msie","version","msedge","breakpoint","css","isPage","a","recordGAEvent","category","action","label","ga","hasOwnProperty","loaded","undefined","eventCategory","eventAction","eventLabel","hitCallback","document","pushGAevent","dataLayer","push","GAEvent_category","GAEvent_action","GAEvent_label","ready"],"sources":["functions.js"],"sourcesContent":["var $=jQuery;\nvar WPTHEME = '/wp-content/themes/kphews-v2.0/';\nvar DOMAIN = location.protocol + \"//\" + location.host;\n\n// Requires JS libraries to be loaded via WordPress\ninitBreakPoint();\ninitBrowserDetection();\n\n// Functions after pages loads\njQuery(document).ready(function($){\n\n\tinitMobileNav()\n\tinitDesktopSubNav();\n\tinitSearch();\n\n\n\tif (isPage('home')){\n\t\tinitHomeSlider();\n\t\tinitHomeWellnessExpand();\n\t}\n\n\tif (isPage('classes')){\n\t\tinitDropDown();\n\t}\n\n\tif (isPage('about')){\n\t\tinitAboutCarousel();\n\t}\n\n});\n\n// ===================================================================\n// About Page - Testimonials Carousel\n// ===================================================================\nfunction initAboutCarousel(){\n\n\t//github.com/kenwheeler/slick/\n\t$.ajax({\n\t\turl: WPTHEME+\"js/jquery.slick.min.js\",\n\t\tdataType: \"script\",\n\t\tcache: true\n\t}).done(function(){\n\n\t\t$('.slider').slick({\n\t\t\tinfinite: true,\n\t\t\tslidesToShow: 1,\n\t\t\tslidesToScroll: 1,\n\t\t\ttouchThreshold: 8,\n\t\t\tspeed: 600,\n\t\t\tautoplay: true,\n\t\t\tautoplaySpeed: 2000,\n\t\t\tprevArrow: \"<div class='slick-prev slick-arrow'></div>\",\n\t\t\tnextArrow: \"<div class='slick-next slick-arrow'></div>\"\n\t\t});\n\n\t});\n\n\n}\n\n\n// ===================================================================\n// Classes Page - Courses drop-down Menus\n// ===================================================================\nfunction initDropDown(){\n\t$('.title span').click(function(){\n\n\t\tif ($(this).closest('.item').hasClass('open')){\n\t\t\t$(this).parent().next('.dropdown').slideUp('slow',function(){\n\t\t\t\t$(this).parent().removeClass('open');\n\t\t\t});\n\t\t} else {\n\t\t\t$(this).parent().next('.dropdown').slideDown('slow',function(){\n\t\t\t\t$(this).parent().addClass('open');\n\t\t\t});\n\t\t}\n\n\t});\n}\n\n\n// ===================================================================\n// Home Wellness Box - Mobile Expand\n// ===================================================================\nfunction initHomeSlider(){\n\n\t$.ajax({\n\t\turl: WPTHEME+\"js/jquery.slick.min.js\",\n\t\tdataType: \"script\",\n\t\tcache: true\n\t}).done(function(){\n\t\t$('.slider').slick({\n\t\t\t autoplay:true,\n\t\t\t autoplaySpeed:5000,\n\t\t\t arrows:false,\n\t\t\t draggable:false\n\t\t});\n\t});\n\n}\n\n\n// ===================================================================\n// Home Wellness Box - Mobile Expand\n// ===================================================================\nfunction initHomeWellnessExpand(){\n\n\t// Updates the click event when breakpoint change occurs\n\t$(window).on('breakPointChange', function(){\n\t\tif (breakPoint() <= 480){\n\t\t\tHomeWellnessExpand();\n\t\t} else {\n\t\t\t$('.box.wellness .title').unbind('click');\n\t\t\t$('.box.wellness ul').removeAttr('style');\n\t\t}\n\t});\n\n\n\tfunction HomeWellnessExpand(){\n\t\t$('.box.wellness .title').click(function(){\n\t\t\tvar box = $(this).closest('.box');\n\t\t\tif (box.hasClass('open')){\n\t\t\t\t$('ul',box).slideUp(300,function(){\n\t\t\t\t\tbox.removeClass('open');\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t$('ul',box).slideDown(300,function(){\n\t\t\t\t\tbox.addClass('open');\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n}\n\n\n// ===================================================================\n// Collapsible Search Field - Desktop\n// ===================================================================\nfunction initSearch(){\n\t$('header .search .overlay').click(function(){\n\t\tshowSearch();\n\t});\n\n\t$('header .search input').focusout(function(){\n\t\thideSearch();\n\t});\n\n\t$('header .search div.button').click(function(event){\n\t\tevent.preventDefault();\n\t\texecSearch()\n\t});\n\n\t$('header .search').keydown(function(event){\n\t\tvar keyCode = (event.keyCode ? event.keyCode : event.which);\n\t\tif (keyCode == 13) {\n\t\t\texecSearch()\n\t\t}\n\t});\n\n\tfunction showSearch(){\n\t\t$('header .search .overlay').fadeOut(300,function(){\n\t\t\t$('header .search .show').fadeIn(300, function(){\n\t\t\t\t$(this).animate({width:'240px'},300);\n\t\t\t\tsetTimeout(hideSearch, 3000);\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction hideSearch(){\n\t\tif ($('header .search input').is(\":focus\") === false && $('header .search input').val().length == 0){\n\t\t\t$('header .search .show').animate({width:'30px'},300,function(){\n\t\t\t\t$('header .search .show input').val('');\n\t\t\t\t$('header .search .show').fadeOut(300, function(){\n\t\t\t\t\t$('header .search .overlay').fadeIn(300);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction execSearch(){\n\t\tif ($('header .search input').val()){\n\t\t\twindow.location.href = DOMAIN+\"/search/\"+$('header .search input').val();\n\t\t}\n\t}\n\n}\n\n\n// ===================================================================\n// Drop-down Navigation - Desktop\n// ===================================================================\nfunction initDesktopSubNav(){\n\t/* Hover\n\t$('nav.desktop li').hover(function(){\n\t\t$('ul',this).css('opacity',0).slideDown(300).animate({opacity:1},{queue:false, duration:300});\n\t},function(){\n\t\t$('ul',this).fadeOut(300);\n\t});\n\t*/\n\n\t$('nav.desktop li.sub > a').click(function(event){\n\t\tevent.preventDefault();\n\t\tvar menu = $(this).parent();\n\t\tif (menu.hasClass('open')){\n\t\t\t$('ul',menu).slideUp(300,function(){\n\t\t\t\tmenu.removeClass('open');\n\t\t\t});\n\t\t} else {\n\t\t\t$('ul',menu).slideDown(300,function(){\n\t\t\t\tmenu.addClass('open');\n\t\t\t});\n\t\t}\n\n\t});\n\n}\n\n\n// ===================================================================\n// Side Navigation - Mobile\n// ===================================================================\nfunction initMobileNav(){\n\t$('#menu-button').click(function(){\n\t\tif ($('body').hasClass('show-nav')){\n\t\t\t$('body').removeClass('show-nav');\n\t\t} else {\n\t\t\t$('body').addClass('show-nav');\n\t\t}\n\t});\n\n\t$('nav.mobile li.sub > a').click(function(event){\n\t\tevent.preventDefault();\n\t\tvar menu = $(this).parent();\n\t\tif (menu.hasClass('open')){\n\t\t\tmenu.removeClass('open');\n\t\t\t$('ul',menu).slideUp(300);\n\t\t} else {\n\t\t\tmenu.addClass('open');\n\t\t\t$('ul',menu).slideDown(300);\n\t\t}\n\t});\n}\n\n\n// ===================================================================\n// Breakpoint Change Listener - JS file loaded via WordPress\n// ===================================================================\nfunction initBreakPoint(){\n\t//github.com/xoxco/breakpoints\n\t$(window).setBreakpoints({distinct:true, breakpoints:[320,480,768,1024]});\n\t$(window).bind('enterBreakpoint1024',breakPointChange);\n\t$(window).bind('enterBreakpoint768',breakPointChange);\n\t$(window).bind('enterBreakpoint480',breakPointChange);\n\t$(window).bind('enterBreakpoint320',breakPointChange);\n\n\tfunction breakPointChange(){\n\t\t$(window).trigger('breakPointChange');\n\t}\n}\n\n// ===================================================================\n// Browser Detection - JS file loaded via WordPress\n// ===================================================================\nfunction initBrowserDetection(){\n\t//github.com/gabceb/jquery-browser-plugin\n\n\t// OS Class\n\tif (jQBrowser.mac){\n\t\t$('html').addClass('mac');\n\t} else if (jQBrowser.win){\n\t\t$('html').addClass('win');\n\t} else if (jQBrowser.android){\n\t\t$('html').addClass('android');\n\t} else if (jQBrowser.ipad || jQBrowser.iphone || jQBrowser.ipod){\n\t\t$('html').addClass('ios');\n\t}\n\n\t// Browser\n\tif (jQBrowser.chrome){\n\t\t$('html').addClass('chrome');\n\t} else if (jQBrowser.mozilla){\n\t\t$('html').addClass('firefox');\n\t} else if (jQBrowser.safari){\n\t\t$('html').addClass('safari');\n\t} else if (jQBrowser.msie){\n\t\t$('html').addClass('msie');\n\t\tif (jQBrowser.version >= 8 && jQBrowser.version < 9){\n\t\t\t$('html').addClass('ie8');\n\t\t} else if (jQBrowser.version >= 9 && jQBrowser.version < 10){\n\t\t\t$('html').addClass('ie9');\n\t\t} else if (jQBrowser.version >= 10 && jQBrowser.version < 11){\n\t\t\t$('html').addClass('ie10');\n\t\t} else if (jQBrowser.version >= 11){\n\t\t\t$('html').addClass('ie11');\n\t\t}\n\t} else if (jQBrowser.msedge){\n\t\t$('html').addClass('msedge');\n\t}\n\n}\n\n// ===================================================================\n// Function that returns what the current breakpoint is\n// ===================================================================\nfunction breakPoint(){\n\tvar breakpoint;\n\tif ($('body').hasClass('breakpoint-1024')){\n\t\tbreakpoint = 1024;\n\t} else if ($('body').hasClass('breakpoint-768')){\n\t\tbreakpoint = 768;\n\t} else if ($('body').hasClass('breakpoint-480')){\n\t\tbreakpoint = 480;\n\t} else if ($('body').hasClass('breakpoint-480')){\n\t\tbreakpoint = 320;\n\t} else {\n\t\t//Fallback method: Calculates browser width without scrollbars\n\t\t$('body').css('overflow', 'hidden');\n\t\tvar width = $(window).width();\n\t\t$('body').css('overflow', 'auto');\n\t\tif (width >= 1024){breakpoint = 1024;}\n\t\telse if (width >= 768){breakpoint = 768;}\n\t\telse if (width >= 480){breakpoint = 480;}\n\t\telse {breakpoint = 320;}\n\t}\n\treturn breakpoint;\n}\n\n// ===================================================================\n// Global Function to determine what page is viewed based on body ID\n// ===================================================================\nfunction isPage(a){\n\tif($('body#'+a).length){return true;}\n\telse if ($('body').hasClass(a)){return true;}\n\telse if ($('body').hasClass('page-'+a)){return true;}\n\telse if ($('body').hasClass('single-'+a)){return true;}\n\telse{return false;}\n}\n\n// ===================================================================\n// Function to send Google Analytics event data (OLD)\n// ===================================================================\nfunction recordGAEvent(category, action, label, url){\n\tif (ga.hasOwnProperty('loaded') && ga.loaded === true) {\n\t\tif (url === undefined){\n\t\t\tga('send', 'event', category, action, label);\n\t\t} else {\n\t\t\tga('send', 'event', {\n\t\t\t\t'eventCategory' : category,\n\t\t\t\t'eventAction'   : action,\n\t\t\t\t'eventLabel'    : label,\n\t\t\t\t'hitCallback'   : function (){document.location = url;}\n\t\t\t});\n\t\t}\n\t} else if (url !== undefined){\n\t\tdocument.location = url;\n\t}\n}\n\n// ===================================================================\n// Global Function to push GA events to GTM dataLayer\n// ===================================================================\nfunction pushGAevent(category,action,label){\n\tif (typeof window.dataLayer !== 'undefined'){\n\t\twindow.dataLayer.push({\n\t\t\t'event': 'Google Analytics - Event',\n\t\t\t'GAEvent_category': category,\n\t\t\t'GAEvent_action': action,\n\t\t\t'GAEvent_label': label\n\t\t});\n\t}\n}"],"mappings":"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"}